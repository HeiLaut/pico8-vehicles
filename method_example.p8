pico-8 cartridge // http://www.pico-8.com
version 34
__lua__
function add_new_bullet(_x,_y)
  add(bullets,{
   x=_x,
   y=_y,
  dx=rnd(2),
   dy=rnd(2),
   life=rnd(300)+10,
   draw=function(self)
     pset(self.x,self.y,flr(self.x/10))
   end,
   update=function(self)
     self.x+=self.dx
     self.y+=self.dy
     self.life-=1
     if self.life<0 then
       del(bullets,self)
     end
     self.y=self.y%128
     self.x=self.x%128

   end
 })
end
function _init()
	bullets={}
for i=1,1000 do
	add_new_bullet(rnd(128),rnd(128))
end
	n=#bullets
end

function _update()
	add_new_bullet(rnd(128),rnd(128))
	for el in all(bullets) do
		el:update()
	end
	if (time()%1==0) n=#bullets

end

function _draw()
	cls(7)
	print(n,9)
for el in all(bullets) do
	el:draw()
end

end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
